(()=>{"use strict";var t={389:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});const r="precision mediump float;\n\n// Passed in from the vertex shader.\nvarying vec2 v_texcoord;\nvarying vec3 v_normal;\n\nuniform sampler2D u_texture;\n\nvoid main() {\n  gl_FragColor = vec4(v_normal * .5 + .5, 1);\n}"},351:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});const r="precision mediump float;\n\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\nattribute vec3 a_normal;\n\nuniform mat4 u_matrix;\n\nvarying vec2 v_texcoord;\nvarying vec3 v_normal;\n\nvoid main() {\n  // Multiply the position by the matrix.\n\t// gl_PointSize = a_ttt;\n  gl_Position = u_matrix * a_position;\n\n  // Pass the texcoord to the fragment shader.\n  v_texcoord = a_texcoord;\n\tv_normal = a_normal;\n}"},629:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DrawApp=void 0;const r=n(796);function i(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}e.DrawApp=class{constructor(t,e){this.canvas=t,this.initCanvas(),this.ctx=t.getContext("2d"),this.ctx.lineWidth=2,this.MOUSE_DOWN=!1;let n=t.getBoundingClientRect();this.CANVAS_X=n.x,this.CANVAS_Y=n.y,this.points=[],this.pathStr="",this.eventEmitter=e,this.initHandler()}initCanvas(){let t=this.canvas,e=t.style;e.backgroundColor="transparent",e.position="absolute",e.left="0px",e.top="0px",e.zIndex="10",e.width="100vw",e.height="100vh",t.width=t.clientWidth,t.height=t.clientHeight}initHandler(){this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvas.addEventListener("touchstart",this.onMouseDown.bind(this)),this.canvas.addEventListener("touchmove",this.onMouseMove.bind(this)),this.canvas.addEventListener("touchend",this.onMouseUp.bind(this))}render(t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),t=null!=t?t:this.points,this.ctx.beginPath(),this.ctx.strokeStyle="#33e";for(let e=Math.max(t.length-6,0);e<t.length-1;){let n=t[e++],r=t[e++];this.ctx.moveTo(n.x,n.y),this.ctx.lineTo(r.x,r.y)}this.ctx.stroke(),this.ctx.beginPath(),this.ctx.fillStyle="#33e";for(let e=Math.max(t.length-6,0);e<t.length-1;){let n=t[e++],r=t[e++];this.ctx.moveTo(n.x,n.y),this.ctx.ellipse(n.x,n.y,4,4,0,0,2*Math.PI,!1),this.ctx.ellipse(r.x,r.y,4,4,0,0,2*Math.PI,!1)}if(this.ctx.fill(),this.ctx.beginPath(),this.ctx.strokeStyle="#000",t.length>=4)for(let e=0;e<t.length-2;){let n=t[e++],r=t[e++],i=t[e++],o=t[e++];this.ctx.moveTo(n.x,n.y),this.ctx.bezierCurveTo(r.x,r.y,i.x,i.y,o.x,o.y)}this.ctx.stroke(),this.updatePathStr(t)}updatePathStr(t){let e="";if((t=null!=t?t:this.points).length>=4){e+=`M${t[0].x/10} ${t[0].y/10}`;for(let n=0;n<t.length-2;){t[n++];let r=t[n++],i=t[n++],o=t[n++];e+=`C${r.x/10} ${r.y/10} ${i.x/10} ${i.y/10} ${o.x/10} ${o.y/10}`}}this.pathStr=e}exportPathStr(){return this.pathStr}onMouseDown(t){t.preventDefault(),t.stopPropagation(),console.log(t);let e=0,n=0;t instanceof MouseEvent?(e=t.clientX,n=t.clientY):(e=t.touches[0].clientX,n=t.touches[0].clientY),this.MOUSE_DOWN=!0,this.MOUSE_START_X=e-this.CANVAS_X,this.MOUSE_START_Y=n-this.CANVAS_Y}onMouseMove(t){if(t.preventDefault(),this.MOUSE_DOWN){let e=0,n=0;t instanceof MouseEvent?(e=t.clientX,n=t.clientY):(e=t.touches[0].clientX,n=t.touches[0].clientY);let r=e-this.CANVAS_X,o=n-this.CANVAS_Y,a={x:this.MOUSE_START_X,y:this.MOUSE_START_Y},s={x:r,y:o},l={x:2*a.x-r,y:2*a.y-o},c=(i(s,a),this.points.map((t=>({x:t.x,y:t.y}))));0==c.length||c.push(l,a),c.push(a,s),this.render(c)}}onMouseUp(t){if(t.preventDefault(),t.stopPropagation(),this.MOUSE_DOWN){this.MOUSE_DOWN=!1;let e=0,n=0;t instanceof MouseEvent?(e=t.clientX,n=t.clientY):(console.log(t),e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY);let o=e-this.CANVAS_X,a=n-this.CANVAS_Y,s={x:this.MOUSE_START_X,y:this.MOUSE_START_Y},l={x:o,y:a},c={x:2*s.x-o,y:2*s.y-a};i(l,s);0==this.points.length||this.points.push(c,s),this.points.push(s,l),this.eventEmitter.trigger(r.EventType.SVG_DATA_CHANGING,[{pathStr:this.pathStr}])}}}},796:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EventType=e.EventEmitter=void 0;e.EventEmitter=class{constructor(){this.callbacks={}}on(t,e){return void 0===t?(console.warn("wrong names"),!1):void 0===e?(console.warn("wrong callback"),!1):((this.callbacks[t]||(this.callbacks[t]=[])).push(e),this)}off(t){return void 0===t?(console.warn("wrong name"),!1):(this.callbacks[t]instanceof Array&&delete this.callbacks[t],this)}trigger(t,e){if(void 0===t)return console.warn("wrong name"),!1;const n=e instanceof Array?e:[];this.callbacks[t]&&this.callbacks[t].forEach((t=>{t.apply(this,n)}))}},function(t){t[t.SVG_DATA_CHANGING=0]="SVG_DATA_CHANGING"}(e.EventType||(e.EventType={}))},676:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;const r=n(905),i=n(629),o=n(796);e.App=class{constructor(){const t=document.createElement("canvas"),e=document.createElement("canvas"),n=document.createElement("div");n.style.position="relative",t.style.width="100vw",t.style.height="100vh",document.body.append(n),n.append(t),n.append(e);const a=new o.EventEmitter;new r.LatheApp(t,a),new i.DrawApp(e,a)}}},905:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LatheApp=void 0;const r=n(351),i=n(389),o=n(892),a=n(625),s=n(796),l=n(488);function c(t,e,n,r){const i=r||[];if(function(t,e){const n=t[e+0],r=t[e+1],i=t[e+2],o=t[e+3];let a=3*r[0]-2*n[0]-o[0];a*=a;let s=3*r[1]-2*n[1]-o[1];s*=s;let l=3*i[0]-2*o[0]-n[0];l*=l;let c=3*i[1]-2*o[1]-n[1];c*=c,a<l&&(a=l);s<c&&(s=c);return a+s}(t,e)<n)i.push(t[e+0]),i.push(t[e+3]);else{const r=.5,a=t[e+0],s=t[e+1],l=t[e+2],h=t[e+3],u=o.default.lerp(a,s,r),d=o.default.lerp(s,l,r),f=o.default.lerp(l,h,r),p=o.default.lerp(u,d,r),v=o.default.lerp(d,f,r),m=o.default.lerp(p,v,r);c([a,u,p,m],0,n,i),c([m,v,f,h],0,n,i)}return i}function h(t,e,n,r,i){const a=i||[],s=t[e],l=t[n-1];let c=0,u=1;for(let r=e+1;r<n-1;++r){const e=o.default.distanceToSegmentSq(t[r],s,l);e>c&&(c=e,u=r)}return Math.sqrt(c)>r?(h(t,e,u+1,r,a),h(t,u,n,r,a)):a.push(s,l),a}function u(t,e,n){return t+(e-t)*n}e.LatheApp=class{constructor(t,e){this.canvas=t,this.gl=t.getContext("webgl");let n=this.gl;this.initCanvas();let o=(0,l.createShader)(n,n.VERTEX_SHADER,r.default),c=(0,l.createShader)(n,n.FRAGMENT_SHADER,i.default);this.program=(0,l.createProgram)(n,[o,c],[]),n.useProgram(this.program),n.viewport(0,0,t.width,t.height),this.data={tolerance:.15,distance:.04,divisions:20,startAngle:0,endAngle:2*Math.PI,capStart:!0,capEnd:!0,maxAngle:30/180*Math.PI},this.worldMatrix=a.default.identity(),this.svg="M76.5 12.9C94.6 22.6 90.1 30.4 83.2 28.4C76.3 26.4 78.9 48.7 80.2 51.9",this.update(),this.tick(),this.eventEmitter=e,this.eventEmitter.on(s.EventType.SVG_DATA_CHANGING,this.handleSvgChange.bind(this))}initCanvas(){let t=this.canvas;t.style.display="block",t.style.width="100vw",t.style.height="100vh"}startRotateCamera(t){this.lastPos=this.getRelativeMousePosition(this.canvas,t),this.moving=!0}rotateCamera(t){if(this.moving){const e=this.getRelativeMousePosition(this.canvas,t),n=[4/this.canvas.width,4/this.canvas.height],r=o.default.mult(o.default.sub(this.lastPos,e),n);this.worldMatrix=a.default.multiply(a.default.xRotation(5*r[1]),this.worldMatrix),this.worldMatrix=a.default.multiply(a.default.yRotation(5*r[0]),this.worldMatrix),this.lastPos=e,this.render()}}stopRotateCamera(t){this.moving=!1}getRelativeMousePosition(t,e){const n=t.getBoundingClientRect(),r=(e.clientX-n.left)/(n.right-n.left)*t.width,i=(e.clientY-n.top)/(n.bottom-n.top)*t.height;return[(r-t.width/2)/window.devicePixelRatio,(i-t.height/2)/window.devicePixelRatio]}generateMesh(t,e){const n=function(t){const e=[];let n=!1,r=!1,i=0,a="",s=[],l=[0,0],c=[0,0];function h(){a.length>0&&(s.push(parseFloat(a)),2===s.length&&(n&&(s[0]+=l[0],s[1]+=l[1]),e.push(s),r&&(c=s.slice()),--i,i||(l=c),s=[]),a="")}t.split("").forEach((t=>{t>="0"&&t<="9"||"."===t?a+=t:"-"===t?(h(),a="-"):"m"===t?(h(),r=!0,i=1,n=!0):"c"===t?(h(),r=!0,i=3,n=!0):"M"===t?(h(),r=!0,i=1,n=!1):"C"===t?(h(),r=!0,i=3,n=!1):(","===t||" "===t)&&h()})),h();let u=e[0].slice(),d=e[0].slice();for(let t=1;t<e.length;++t)u=o.default.min(u,e[t]),d=o.default.max(d,e[t]);let f=o.default.sub(d,u);o.default.mult(f,.5);for(let t=0;t<e.length;++t){const n=e[t];n[0]=n[0]-u[0],n[1]=n[1]}return e}(t),r=this.data,i=function(t,e){const n=[],r=(t.length-1)/3;for(let i=0;i<r;++i){c(t,3*i,e,n)}return n}(n,r.tolerance),s=function(t,e,n,r,i,s){const l=[],c=[],h=[],d=i?1:0,f=t.length+d+(s?1:0),p=f-1;let v=[],m=0;for(let e=0;e<t.length-1;++e)v.push(m),m+=o.default.distance(t[e],t[e+1]);v.push(m),v=v.map((t=>t/m));for(let o=0;o<=r;++o){const h=o/r,d=u(e,n,h),f=a.default.yRotation(d);i&&(l.push(0,t[0][1],0),c.push(h,0)),t.forEach(((t,e)=>{const n=a.default.transformPoint(f,[...t,0]);l.push(n[0],n[1],n[2]);c.push(h,v[e])})),s&&(l.push(0,t[t.length-1][1],0),c.push(h,1))}for(let t=0;t<r;++t){const e=t*f,n=e+f;for(let t=0;t<p;++t)h.push(e+t,e+t+1,n+t),h.push(e+t+1,n+t+1,n+t)}return{position:l,texcoord:c,indices:h}}(h(i,0,i.length,r.distance),r.startAngle,r.endAngle,r.divisions,r.capStart,r.capEnd),l=function(t,e){const n=t.position,r=t.texcoord;let i=function(t){return t.indices?function(t){const e=t.indices;let n=0;const r=function(){return e[n++]};return r.reset=function(){n=0},r.numElements=e.length,r}(t):function(t){let e=0;const n=function(){return e++};return n.reset=function(){e=0},n.numElements=t.positions.length/3,n}(t)}(t);const o=i.numElements,s=t.position.length,l=o/3,c=[];for(let t=0;t<l;++t){const t=3*i(),e=3*i(),r=3*i(),o=n.slice(t,t+3),s=n.slice(e,e+3),l=n.slice(r,r+3);c.push(a.default.normalize(a.default.cross(a.default.subtractVectors(o,s),a.default.subtractVectors(l,s))))}let h={},u=0;function d(t,e,n){const r=t+","+e+","+n,i=h[r];if(void 0!==i)return i;const o=u++;return h[r]=o,o}const f=[];for(let t=0;t<s;++t){const e=3*t,r=n.slice(e,e+3);f.push(d(r[0],r[1],r[2]))}const p=[];i.reset();for(let t=0;t<l;++t)for(let e=0;e<3;++e){const e=f[i()];let n=p[e];n||(n=[],p[e]=n),n.push(t)}h={},u=0;const v=[],m=[],g=[];function y(t,e,n,r,i,o,a,s){const l=t+","+e+","+n+","+r+","+i+","+o+","+a+","+s,c=h[l];if(void 0!==c)return c;const d=u++;return h[l]=d,v.push(t,e,n),g.push(r,i,o),m.push(a,s),d}const A=[];i.reset();const x=Math.cos(e);for(let t=0;t<l;++t){const e=c[t];for(let t=0;t<3;++t){const t=i(),o=p[f[t]],s=[0,0,0];o.forEach((t=>{const n=c[t];a.default.dot(e,n)>x&&a.default.addVectors(s,n,s)})),a.default.normalize(s,s);const l=3*t,h=2*t;A.push(y(n[l+0],n[l+1],n[l+2],s[0],s[1],s[2],r[h+0],r[h+1]))}}return{position:v,texcoord:m,normal:g,indices:A}}(s,r.maxAngle),d=function(t){const e=t.slice(0,3),n=t.slice(0,3);for(let r=3;r<t.length;r+=3)e[0]=Math.min(t[r+0],e[0]),e[1]=Math.min(t[r+1],e[1]),e[2]=Math.min(t[r+2],e[2]),n[0]=Math.max(t[r+0],n[0]),n[1]=Math.max(t[r+1],n[1]),n[2]=Math.max(t[r+2],n[2]);return{min:e,max:n}}(l.position);return e=function(t,e,n){let r={},i=n.indices;if(i){let e=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e);let n=new Uint16Array(i);t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW),r.indices={data:e},r.numElements=n.length}let o=[];return n.position&&o.push({name:"a_position",type:t.FLOAT,numComponents:3,data:new Float32Array(n.position)}),n.texcoord&&o.push({name:"a_texcoord",type:t.FLOAT,numComponents:2,data:new Float32Array(n.texcoord)}),n.normal&&o.push({name:"a_normal",type:t.FLOAT,numComponents:3,data:new Float32Array(n.normal)}),function(t,e,n){n.forEach(((n,r)=>{let i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,n.data,t.STATIC_DRAW);let o=t.getAttribLocation(e,n.name);t.vertexAttribPointer(o,n.numComponents,n.type,!1,0,0),t.enableVertexAttribArray(o)}))}(t,e,o),r}(this.gl,this.program,l),{extents:d,bufferInfo:e}}update(){let t=this.generateMesh(this.svg,this.bufferInfo);this.bufferInfo=t.bufferInfo,this.extents=t.extents,this.render()}render(){const t=this.gl,e=this.canvas,n=this.extents,r=this.program;t.viewport(0,0,e.width,e.height),t.enable(t.DEPTH_TEST);const i=.25*Math.PI,o=t.canvas.width/t.canvas.height;this.projectionMatrix=a.default.perspective(i,o,1,2e3);const s=u(n.min[1],n.max[1],.5),l=[0,s,.8*(n.max[1]-n.min[1])/Math.tan(.5*i)],c=[0,s,0],h=a.default.lookAt(l,c,[0,-1,0]),d=a.default.inverse(h),f=a.default.multiply(this.projectionMatrix,d),p=a.default.multiply(f,this.worldMatrix);let v=t.getUniformLocation(r,"u_matrix");t.uniformMatrix4fv(v,!1,p);let m=this.bufferInfo.numElements;t.drawElements(t.TRIANGLES,m,t.UNSIGNED_SHORT,0)}tick(){(0,l.resizeCanvasToDisplaySize)(this.canvas);a.default.yRotate(this.worldMatrix,.05/60*Math.PI,this.worldMatrix),this.render(),requestAnimationFrame(this.tick.bind(this))}handleSvgChange(t){const{pathStr:e}=t;e&&(this.svg=e,this.update())}}},625:(t,e)=>{function n(t,e,n){return(n=n||new Float32Array(3))[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function r(t,e){e=e||new Float32Array(3);var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);return n>1e-5&&(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n),e}function i(t,e,n){return(n=n||new Float32Array(3))[0]=t[1]*e[2]-t[2]*e[1],n[1]=t[2]*e[0]-t[0]*e[2],n[2]=t[0]*e[1]-t[1]*e[0],n}function o(t,e){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function a(t,e){e=e||new Float32Array(16);var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],u=t[9],d=t[10],f=t[11],p=t[12],v=t[13],m=t[14],g=t[15],y=d*g,A=m*f,x=l*g,M=m*c,w=l*f,_=d*c,S=i*g,E=m*o,b=i*f,T=d*o,P=i*c,R=l*o,F=h*v,C=p*u,O=a*v,D=p*s,N=a*u,I=h*s,U=n*v,k=p*r,L=n*u,V=h*r,Y=n*s,G=a*r,X=y*s+M*u+w*v-(A*s+x*u+_*v),z=A*r+S*u+T*v-(y*r+E*u+b*v),j=x*r+E*s+P*v-(M*r+S*s+R*v),q=_*r+b*s+R*u-(w*r+T*s+P*u),H=1/(n*X+a*z+h*j+p*q);return e[0]=H*X,e[1]=H*z,e[2]=H*j,e[3]=H*q,e[4]=H*(A*a+x*h+_*p-(y*a+M*h+w*p)),e[5]=H*(y*n+E*h+b*p-(A*n+S*h+T*p)),e[6]=H*(M*n+S*a+R*p-(x*n+E*a+P*p)),e[7]=H*(w*n+T*a+P*h-(_*n+b*a+R*h)),e[8]=H*(F*c+D*f+N*g-(C*c+O*f+I*g)),e[9]=H*(C*o+U*f+V*g-(F*o+k*f+L*g)),e[10]=H*(O*o+k*c+Y*g-(D*o+U*c+G*g)),e[11]=H*(I*o+L*c+G*f-(N*o+V*c+Y*f)),e[12]=H*(O*d+I*m+C*l-(N*m+F*l+D*d)),e[13]=H*(L*m+F*i+k*d-(U*d+V*m+C*i)),e[14]=H*(U*l+G*m+D*i-(Y*m+O*i+k*l)),e[15]=H*(Y*d+N*i+V*l-(L*l+G*d+I*i)),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default={copy:function(t,e){return(e=e||new Float32Array(16))[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},lookAt:function(t,e,o,a){a=a||new Float32Array(16);var s=r(n(t,e)),l=r(i(o,s)),c=r(i(s,l));return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=0,a[4]=c[0],a[5]=c[1],a[6]=c[2],a[7]=0,a[8]=s[0],a[9]=s[1],a[10]=s[2],a[11]=0,a[12]=t[0],a[13]=t[1],a[14]=t[2],a[15]=1,a},addVectors:function(t,e,n){return(n=n||new Float32Array(3))[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n},subtractVectors:n,distance:function(t,e){return Math.sqrt(o(t,e))},distanceSq:o,normalize:r,cross:i,dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},identity:function(t){return(t=t||new Float32Array(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},transpose:function(t,e){return(e=e||new Float32Array(16))[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},orthographic:function(t,e,n,r,i,o,a){return(a=a||new Float32Array(16))[0]=2/(e-t),a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/(r-n),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2/(i-o),a[11]=0,a[12]=(t+e)/(t-e),a[13]=(n+r)/(n-r),a[14]=(i+o)/(i-o),a[15]=1,a},frustum:function(t,e,n,r,i,o,a){var s=e-t,l=r-n,c=o-i;return a[0]=2*i/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i/l,a[6]=0,a[7]=0,a[8]=(t+e)/s,a[9]=(r+n)/l,a[10]=-(o+i)/c,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*i*o/c,a[15]=0,a},perspective:function(t,e,n,r,i){i=i||new Float32Array(16);var o=Math.tan(.5*Math.PI-.5*t),a=1/(n-r);return i[0]=o/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(n+r)*a,i[11]=-1,i[12]=0,i[13]=0,i[14]=n*r*a*2,i[15]=0,i},translation:function(t,e,n,r){return(r=r||new Float32Array(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=t,r[13]=e,r[14]=n,r[15]=1,r},translate:function(t,e,n,r,i){i=i||new Float32Array(16);var o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],h=t[5],u=t[6],d=t[7],f=t[8],p=t[9],v=t[10],m=t[11],g=t[12],y=t[13],A=t[14],x=t[15];return t!==i&&(i[0]=o,i[1]=a,i[2]=s,i[3]=l,i[4]=c,i[5]=h,i[6]=u,i[7]=d,i[8]=f,i[9]=p,i[10]=v,i[11]=m),i[12]=o*e+c*n+f*r+g,i[13]=a*e+h*n+p*r+y,i[14]=s*e+u*n+v*r+A,i[15]=l*e+d*n+m*r+x,i},xRotation:function(t,e){e=e||new Float32Array(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},yRotation:function(t,e){e=e||new Float32Array(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},zRotation:function(t,e){e=e||new Float32Array(16);var n=Math.cos(t),r=Math.sin(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},xRotate:function(t,e,n){n=n||new Float32Array(16);var r=t[4],i=t[5],o=t[6],a=t[7],s=t[8],l=t[9],c=t[10],h=t[11],u=Math.cos(e),d=Math.sin(e);return n[4]=u*r+d*s,n[5]=u*i+d*l,n[6]=u*o+d*c,n[7]=u*a+d*h,n[8]=u*s-d*r,n[9]=u*l-d*i,n[10]=u*c-d*o,n[11]=u*h-d*a,t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n},yRotate:function(t,e,n){n=n||new Float32Array(16);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[8],l=t[9],c=t[10],h=t[11],u=Math.cos(e),d=Math.sin(e);return n[0]=u*r-d*s,n[1]=u*i-d*l,n[2]=u*o-d*c,n[3]=u*a-d*h,n[8]=u*s+d*r,n[9]=u*l+d*i,n[10]=u*c+d*o,n[11]=u*h+d*a,t!==n&&(n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n},zRotate:function(t,e,n){n=n||new Float32Array(16);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],h=t[7],u=Math.cos(e),d=Math.sin(e);return n[0]=u*r+d*s,n[1]=u*i+d*l,n[2]=u*o+d*c,n[3]=u*a+d*h,n[4]=u*s-d*r,n[5]=u*l-d*i,n[6]=u*c-d*o,n[7]=u*h-d*a,t!==n&&(n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n},axisRotation:function(t,e,n){n=n||new Float32Array(16);var r=t[0],i=t[1],o=t[2],a=Math.sqrt(r*r+i*i+o*o),s=(r/=a)*r,l=(i/=a)*i,c=(o/=a)*o,h=Math.cos(e),u=Math.sin(e),d=1-h;return n[0]=s+(1-s)*h,n[1]=r*i*d+o*u,n[2]=r*o*d-i*u,n[3]=0,n[4]=r*i*d-o*u,n[5]=l+(1-l)*h,n[6]=i*o*d+r*u,n[7]=0,n[8]=r*o*d+i*u,n[9]=i*o*d-r*u,n[10]=c+(1-c)*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n},axisRotate:function(t,e,n,r){r=r||new Float32Array(16);var i=e[0],o=e[1],a=e[2],s=Math.sqrt(i*i+o*o+a*a),l=(i/=s)*i,c=(o/=s)*o,h=(a/=s)*a,u=Math.cos(n),d=Math.sin(n),f=1-u,p=l+(1-l)*u,v=i*o*f+a*d,m=i*a*f-o*d,g=i*o*f-a*d,y=c+(1-c)*u,A=o*a*f+i*d,x=i*a*f+o*d,M=o*a*f-i*d,w=h+(1-h)*u,_=t[0],S=t[1],E=t[2],b=t[3],T=t[4],P=t[5],R=t[6],F=t[7],C=t[8],O=t[9],D=t[10],N=t[11];return r[0]=p*_+v*T+m*C,r[1]=p*S+v*P+m*O,r[2]=p*E+v*R+m*D,r[3]=p*b+v*F+m*N,r[4]=g*_+y*T+A*C,r[5]=g*S+y*P+A*O,r[6]=g*E+y*R+A*D,r[7]=g*b+y*F+A*N,r[8]=x*_+M*T+w*C,r[9]=x*S+M*P+w*O,r[10]=x*E+M*R+w*D,r[11]=x*b+M*F+w*N,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},scaling:function(t,e,n,r){return(r=r||new Float32Array(16))[0]=t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},scale:function(t,e,n,r,i){return(i=i||new Float32Array(16))[0]=e*t[0],i[1]=e*t[1],i[2]=e*t[2],i[3]=e*t[3],i[4]=n*t[4],i[5]=n*t[5],i[6]=n*t[6],i[7]=n*t[7],i[8]=r*t[8],i[9]=r*t[9],i[10]=r*t[10],i[11]=r*t[11],t!==i&&(i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]),i},multiply:function(t,e,n){n=n||new Float32Array(16);var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],h=e[7],u=e[8],d=e[9],f=e[10],p=e[11],v=e[12],m=e[13],g=e[14],y=e[15],A=t[0],x=t[1],M=t[2],w=t[3],_=t[4],S=t[5],E=t[6],b=t[7],T=t[8],P=t[9],R=t[10],F=t[11],C=t[12],O=t[13],D=t[14],N=t[15];return n[0]=r*A+i*_+o*T+a*C,n[1]=r*x+i*S+o*P+a*O,n[2]=r*M+i*E+o*R+a*D,n[3]=r*w+i*b+o*F+a*N,n[4]=s*A+l*_+c*T+h*C,n[5]=s*x+l*S+c*P+h*O,n[6]=s*M+l*E+c*R+h*D,n[7]=s*w+l*b+c*F+h*N,n[8]=u*A+d*_+f*T+p*C,n[9]=u*x+d*S+f*P+p*O,n[10]=u*M+d*E+f*R+p*D,n[11]=u*w+d*b+f*F+p*N,n[12]=v*A+m*_+g*T+y*C,n[13]=v*x+m*S+g*P+y*O,n[14]=v*M+m*E+g*R+y*D,n[15]=v*w+m*b+g*F+y*N,n},inverse:a,transformVector:function(t,e,n){n=n||new Float32Array(4);for(var r=0;r<4;++r){n[r]=0;for(var i=0;i<4;++i)n[r]+=e[i]*t[4*i+r]}return n},transformPoint:function(t,e,n){n=n||new Float32Array(3);var r=e[0],i=e[1],o=e[2],a=r*t[3]+i*t[7]+o*t[11]+t[15];return n[0]=(r*t[0]+i*t[4]+o*t[8]+t[12])/a,n[1]=(r*t[1]+i*t[5]+o*t[9]+t[13])/a,n[2]=(r*t[2]+i*t[6]+o*t[10]+t[14])/a,n},transformDirection:function(t,e,n){n=n||new Float32Array(3);var r=e[0],i=e[1],o=e[2];return n[0]=r*t[0]+i*t[4]+o*t[8],n[1]=r*t[1]+i*t[5]+o*t[9],n[2]=r*t[2]+i*t[6]+o*t[10],n},transformNormal:function(t,e,n){n=n||new Float32Array(3);var r=a(t),i=e[0],o=e[1],s=e[2];return n[0]=i*r[0]+o*r[1]+s*r[2],n[1]=i*r[4]+o*r[5]+s*r[6],n[2]=i*r[8]+o*r[9]+s*r[10],n}}},892:(t,e)=>{function n(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function r(t,e){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function i(t,e,i){const o=r(e,i);if(0===o)return r(t,e);let a=((t[0]-e[0])*(i[0]-e[0])+(t[1]-e[1])*(i[1]-e[1]))/o;return a=Math.max(0,Math.min(1,a)),r(t,n(e,i,a))}Object.defineProperty(e,"__esModule",{value:!0}),e.default={add:function(t,...e){const n=t.slice();return[...e].forEach((t=>{n[0]+=t[0],n[1]+=t[1]})),n},sub:function(t,...e){const n=t.slice();return[...e].forEach((t=>{n[0]-=t[0],n[1]-=t[1]})),n},max:function(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]},min:function(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]},mult:function(t,e){if(Array.isArray(e)){let n=e;e=t,t=n}return Array.isArray(e)?[t[0]*e[0],t[1]*e[1]]:[t[0]*e,t[1]*e]},lerp:n,distance:function(t,e){return Math.sqrt(r(t,e))},distanceSq:r,distanceToSegment:function(t,e,n){return Math.sqrt(i(t,e,n))},distanceToSegmentSq:i}},488:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createShader=e.createProgram=e.resizeCanvasToDisplaySize=void 0,e.resizeCanvasToDisplaySize=function(t){const e=t.clientWidth,n=t.clientHeight,r=t.width!==e||t.height!==n;return r&&(t.width=e,t.height=n),r},e.createProgram=function(t,e,n,r){let i=t.createProgram();return e.forEach((function(e){t.attachShader(i,e)})),n&&n.forEach((function(e,n){t.bindAttribLocation(i,n,e)})),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)?i:(r&&r("Error in program linking..."),t.deleteProgram(i),null)},e.createShader=function(t,e,n){let r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r));return r}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};(()=>{const t=n(676);window.app=new t.App})()})();